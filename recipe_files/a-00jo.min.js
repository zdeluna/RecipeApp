!function(){window.LI={sync:!0,euns:!1,ppid:!1,nativeDataLayer:[],appId:"a-00jo"}}(),/*! pub-2.1.0 - 2018-08-07
* Copyright (c) 2018 LiveIntent Inc.; Licensed ISC */
function(){function e(n,t,r){function o(s,a){if(!t[s]){if(!n[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[s]={exports:{}};n[s][0].call(l.exports,function(e){var t=n[s][1][e];return o(t||e)},l,l.exports,e,n,t,r)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,n){(function(t){(function(){var r,o,i,s;e("./internal/compat"),s=e("./internal/merge"),o=e("./internal/promise"),i=function(e){return function(n,t,r,o,i){return e.notify(i?i:{error:{message:n,fileName:t,lineNumber:r,columnNumber:o||0}})}},r=function(){function n(n){var r;null==n&&(n={}),this._projectId=n.projectId||0,this._projectKey=n.projectKey||"",this._host=n.host||"https://api.airbrake.io",this._processor=null,this._reporters=[],this._filters=[],this._processor=void 0!==n.processor?n.processor:e("./processors/stack"),void 0!==n.reporter?this.addReporter(n.reporter):(r="withCredentials"in new t.XMLHttpRequest?"compat":"jsonp",this.addReporter(r)),this.addFilter(e("./internal/default_filter")),this.onerror=i(this),null==t.onerror&&n.onerror!==!1&&(t.onerror=this.onerror)}return n.prototype.setProject=function(e,n){return this._projectId=e,this._projectKey=n},n.prototype.setHost=function(e){return this._host=e},n.prototype.addContext=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn,this.addFilter(function(n){return n.context=s({},e,n.context),n})},n.prototype.setEnvironmentName=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn,this.addFilter(function(n){return null==n.context.environment&&(n.context.environment=e),n})},n.prototype.addParams=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn,this.addFilter(function(n){return n.params=s({},e,n.params),n})},n.prototype.addEnvironment=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn,this.addFilter(function(n){return n.environment=s({},e,n.environment),n})},n.prototype.addSession=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn,this.addFilter(function(n){return n.session=s({},e,n.session),n})},n.prototype.addReporter=function(n){switch(n){case"compat":n=e("./reporters/compat");break;case"xhr":n=e("./reporters/xhr");break;case"jsonp":n=e("./reporters/jsonp")}return this._reporters.push(n)},n.prototype.addFilter=function(e){return this._filters.push(e)},n.prototype.notify=function(e){var n,r,i;return n={language:"JavaScript",sourceMapEnabled:!0},(null!=(i=t.navigator)?i.userAgent:void 0)&&(n.userAgent=t.navigator.userAgent),t.location&&(n.url=String(t.location),n.rootDirectory=t.location.protocol+"//"+t.location.host),r=new o,this._processor(e.error||e,function(t){return function(o,i){var a,c,u,l,f,d,p,h,m,v,g;for(p={errors:[i],context:s(n,e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},p.context.notifier={name:"airbrake-js-"+o,version:"0.5.9",url:"https://github.com/airbrake/airbrake-js"},m=t._filters,c=0,l=m.length;l>c;c++){if(a=m[c],d=a(p),null===d||d===!1)return;null!=d.errors?p=d:"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn}for(h={projectId:t._projectId,projectKey:t._projectKey,host:t._host},v=t._reporters,u=0,f=v.length;f>u;u++)(g=v[u])(p,h,r)}}(this)),r},n.prototype.push=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn,this.notify(e)},n.prototype._wrapArguments=function(e){var n,t,r,o;for(t=r=0,o=e.length;o>r;t=++r)n=e[t],"function"==typeof n&&(e[t]=this.wrap(n));return e},n.prototype.wrap=function(e){var n,t,r;if(e.__airbrake__)return e;r=this,n=function(){var n,t;n=r._wrapArguments(arguments);try{return e.apply(this,n)}catch(o){t=o,n=Array.prototype.slice.call(arguments),r.notify({error:t,params:{arguments:n}})}};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n.__airbrake__=!0,n.__inner__=e,n},n}(),n.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./internal/compat":2,"./internal/default_filter":3,"./internal/merge":5,"./internal/promise":6,"./processors/stack":8,"./reporters/compat":9,"./reporters/jsonp":10,"./reporters/xhr":11}],2:[function(){(function(){var e;null==(e=Array.prototype).indexOf&&(e.indexOf=function(e,n){var t,r,o,i;for(n=n||0,t=r=o=n,i=this.length;i>=o?i>r:r>i;t=i>=o?++r:--r)if(this[t]===e)return t;return-1})}).call(this)},{}],3:[function(e,n){(function(){var e,t,r=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};e=["Script error","Script error."],t=function(n){var t;return t=n.errors[0].message,r.call(e,t)>=0?null:n},n.exports=t}).call(this)},{}],4:[function(e,n){(function(){var t,r,o;r=e("./truncate"),o=function(e,n){var t,o;null==n&&(n=1e3),t={};for(o in e)t[o]=r(e[o],n=n);return t},t=function(e,n,t){var r,i;for(null==n&&(n=1e3),null==t&&(t=64e3);;){if(e.params=o(e.params,n=n),e.environment=o(e.environment,n=n),e.session=o(e.session,n=n),i=JSON.stringify(e),i.length<t)return i;if(0===n)break;n=Math.floor(n/2)}throw r=new Error("airbrake-js: cannot jsonify notice (length="+i.length+" maxLength="+t+")"),r.params={json:i.slice(0,+Math.floor(n/2)+1||9e9)+"..."},r},n.exports=t}).call(this)},{"./truncate":7}],5:[function(e,n){(function(){var e;e=function(){var e,n,t,r,o,i;for(i=Array.prototype.slice.call(arguments),e=i.shift()||{},n=0,r=i.length;r>n;n++){o=i[n];for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},n.exports=e}).call(this)},{}],6:[function(e,n){(function(){var e;e=function(){function e(e){var n,t;this._onResolved=[],this._onRejected=[],t=function(e){return function(){return e.resolve.apply(e,arguments)}}(this),n=function(e){return function(){return e.reject.apply(e,arguments)}}(this),null!=e&&e(t,n)}return e.prototype.then=function(e,n){return e&&(null!=this._resolvedWith&&e(this._resolvedWith),this._onResolved.push(e)),n&&(null!=this._rejectedWith&&n(this._resolvedWith),this._onRejected.push(n)),this},e.prototype["catch"]=function(e){return null!=this._rejectedWith&&e(this._rejectedWith),this._onRejected.push(e),this},e.prototype.resolve=function(){var e,n,t,r;for(this._resolvedWith=arguments,r=this._onResolved,n=0,t=r.length;t>n;n++)e=r[n],e.apply(this,this._resolvedWith);return this},e.prototype.reject=function(){var e,n,t,r;for(this._rejectedWith=arguments,r=this._onRejected,n=0,t=r.length;t>n;n++)e=r[n],e.apply(this,this._rejectedWith);return this},e}(),n.exports=e}).call(this)},{}],7:[function(e,n){(function(){var e,t;e=function(e,n){var t;try{return e[n]}catch(r){return void(t=r)}},t=function(n,t,r){var o,i,s,a,c;return null==t&&(t=1e3),null==r&&(r=5),a=0,s=[],c=[],i=function(n){var t,r,o,i,a;for(r=c.indexOf(n),i=[s[r]],t=o=a=r;0>=a?0>=o:o>=0;t=0>=a?++o:--o)c[t]&&e(c[t],i[0])===n&&(n=c[t],i.unshift(s[t]));return"~"+i.join(".")},(o=function(n,u,l){var f,d,p,h,m,v;if(null==u&&(u=""),null==l&&(l=0),a++,a>t)return"[Truncated]";if(null===n||void 0===n)return n;switch(typeof n){case"boolean":case"number":case"string":case"function":return n;case"object":break;default:return String(n)}if(n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp)return n;if(c.indexOf(n)>=0)return"[Circular "+i(n)+"]";if(l++,l>r)return"[Truncated]";if(s.push(u),c.push(n),a--,"[object Array]"===Object.prototype.toString.apply(n)){for(f=[],p=h=0,m=n.length;m>h&&(d=n[p],a++,!(a>=t));p=++h)f.push(o(d,u=p,l));return f}f={};for(u in n)if(Object.prototype.hasOwnProperty.call(n,u)){if(a++,a>=t)break;v=e(n,u),void 0!==v&&(f[u]=o(v,u=u,l))}return f})(n)},n.exports=t}).call(this)},{}],8:[function(e,n){(function(){var e,t,r;t=[{name:"v8",re:/^\s*at\s(.+?)\s\((?:(?:(.+):(\d+):(\d+))|(.+))\)$/,fn:function(e){return{"function":e[1],file:e[2]||e[5],line:e[3]&&parseInt(e[3],10)||0,column:e[4]&&parseInt(e[4],10)||0}}},{name:"firefox30",re:/^(.*)@(.+):(\d+):(\d+)$/,fn:function(e){var n,t,r,o;return r=e[1],t=e[2],n=/^(\S+)\s(line\s\d+\s>\seval.*)$/,(o=t.match(n))&&(r=r.length>0?r+" "+o[2]:o[2],t=o[1]),{"function":r,file:t,line:parseInt(e[3],10),column:parseInt(e[4],10)}}},{name:"firefox14",re:/^(.*)@(.+):(\d+)$/,fn:function(e,n,t){var r;return r=0===n?t.columnNumber||0:0,{"function":e[1],file:e[2],line:parseInt(e[3],10),column:r}}},{name:"v8-short",re:/^\s*at\s(.+):(\d+):(\d+)$/,fn:function(e){return{"function":"",file:e[1],line:parseInt(e[2],10),column:parseInt(e[3],10)}}},{name:"phantomjs",re:/^\s*at\s(.+):(\d+)$/,fn:function(e){return{"function":"",file:e[1],line:parseInt(e[2],10),column:0}}},{name:"default",re:/.+/,fn:function(e){return{"function":e[0],file:"",line:0,column:0}}}],r=/^\S+:\s.+$/,e=function(e,n){var o,i,s,a,c,u,l,f,d,p,h,m,v,g,y;for(h="nostack",v=e.stack||"",f=v.split("\n"),o=[],i=s=0,c=f.length;c>s;i=++s)if(l=f[i],""!==l)for(a=0,u=t.length;u>a;a++)if(m=t[a],d=l.match(m.re)){h=m.name,o.push(m.fn(d,i,e));break}return("v8"===h||"v8-short"===h)&&o.length>0&&o[0]["function"].match(r)&&(o=o.slice(1)),0!==o.length||null==e.fileName&&null==e.lineNumber&&null==e.columnNumber||o.push({"function":"",file:e.fileName||"",line:parseInt(e.lineNumber,10)||0,column:parseInt(e.columnNumber,10)||0}),0!==o.length||null==e.filename&&null==e.lineno&&null==e.column&&null==e.colno||o.push({"function":"",file:e.filename||"",line:parseInt(e.lineno,10)||0,column:parseInt(e.column||e.colno,10)||0}),p=null!=e.message?e.message:String(e),null!=e.name&&""!==e.name?g=e.name:(y=/^Uncaught\s(.+?):\s(.+)$/,d=p.match(y),d?(g=d[1],p=d[2]):g=""),""===g&&""===p&&0===o.length?void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn):n(h,{type:g,message:p,backtrace:o})},n.exports=e}).call(this)},{}],9:[function(e,n){(function(t){(function(){var r,o;r=e("../internal/jsonify_notice"),o=function(e,n,o){var i,s,a;return a=n.host+"/api/v3/projects/"+n.projectId+"/create-notice?key="+n.projectKey,i=r(e),s=new t.XMLHttpRequest,s.open("POST",a,!0),s.send(i),s.onreadystatechange=function(){var n;return 4===s.readyState&&200===s.status?(n=JSON.parse(s.responseText),e.id=n.id,o.resolve(e)):void 0}},n.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/jsonify_notice":4}],10:[function(e,n){(function(t){(function(){var r,o,i;o=e("../internal/jsonify_notice"),r=0,i=function(e,n,i){var s,a,c,u,l,f,d;return r++,s="airbrakeCb"+String(r),t[s]=function(n){var r;e.id=n.id,i.resolve(e);try{return delete t[s]}catch(o){return r=o,t[s]=void 0}},u=encodeURIComponent(o(e)),d=n.host+"/api/v3/projects/"+n.projectId+"/create-notice?key="+n.projectKey+"&callback="+s+"&body="+u,a=t.document,c=a.getElementsByTagName("head")[0],f=a.createElement("script"),f.src=d,l=function(){return c.removeChild(f)},f.onload=l,f.onerror=l,c.appendChild(f)},n.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/jsonify_notice":4}],11:[function(e,n){(function(t){(function(){var r,o;r=e("../internal/jsonify_notice"),o=function(e,n,o){var i,s,a;return a=n.host+"/api/v3/projects/"+n.projectId+"/notices?key="+n.projectKey,i=r(e),s=new t.XMLHttpRequest,s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json"),s.send(i),s.onreadystatechange=function(){var n;return 4===s.readyState&&201===s.status?(n=JSON.parse(s.responseText),e.id=n.id,o.resolve(e)):void 0}},n.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/jsonify_notice":4}],12:[function(){this.cookie=function(e,n,t,r,o,i){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(n)+(t?"; expires="+new Date(+new Date+1e3*t).toUTCString():"")+(r?"; path="+r:"")+(o?"; domain="+o:"")+(i?"; secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}},{}],13:[function(e,n){var t=function(e){var n,t,r,o,i,s,a=0,c=0,u=[],l=[n=1732584193,t=4023233417,~n,~t,3285377520],f=[],d=unescape(encodeURI(e));for(n=d.length;n>=c;)f[c>>2]|=(d.charCodeAt(c)||128)<<8*(3-c++%4);for(f[e=n+8>>2|15]=n<<3;e>=a;a+=16){for(n=l,c=0;80>c;n=[0|[(s=((d=n[0])<<5|d>>>27)+n[4]+(u[c]=16>c?~~f[a+c]:s<<1|s>>>31)+1518500249)+((t=n[1])&(r=n[2])|~t&(o=n[3])),i=s+(t^r^o)+341275144,s+(t&r|t&o|r&o)+882459459,i+1535694389][0|c++/20],d,t<<30|t>>>2,r,o])s=u[c-3]^u[c-8]^u[c-14]^u[c-16];for(c=5;c;)l[--c]=l[c]+n[c]|0}for(e="";40>c;)e+=(l[c>>3]>>4*(7-c++%8)&15).toString(16);return e};"undefined"!=typeof n&&n.exports&&(n.exports=t)},{}],14:[function(e,n){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(n){try{return l.call(null,e,0)}catch(n){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(n){try{return f.call(null,e)}catch(n){return f.call(this,e)}}}function s(){m&&p&&(m=!1,p.length?h=p.concat(h):v=-1,h.length&&a())}function a(){if(!m){var e=o(s);m=!0;for(var n=h.length;n;){for(p=h,h=[];++v<n;)p&&p[v].run();v=-1,n=h.length}p=null,m=!1,i(e)}}function c(e,n){this.fun=e,this.array=n}function u(){}var l,f,d=n.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,v=-1;d.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];h.push(new c(e,n)),1!==h.length||m||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],15:[function(e,n){(function(t){function r(e,n,t,r){return window.addEventListener?(e.addEventListener(n,t,!!r),!0):e.attachEvent("on"+n,t)}var o=e("browser-cookie-lite").cookie,i=e("./lib/extend"),s={url:"//i.liadm.com/s/c",state:{_li_ss:{l:!0,ttl:2592e3},_li_ci:{ttl:300},_li_cim:{ttl:2592e3},_li_ppid:{l:!0,ttl:2419200},_li_pcgpv:{ttl:2592e3},_li_pcgcv:{ttl:2592e3}}};n.exports=function a(e){function n(e){function n(e,n,t,r,i){return function(){o(e,n,t,r,i)}}e&&e.replace(/([^=]+)=([^&]*)&?/g,function(e,t,i){t=decodeURIComponent(t),i=decodeURIComponent(i);var s=f[t];if(s){var a=i?s.ttl:-1,u=s.name||t;s.l&&p?c(t,i,a):s.d?r(window,"unload",n(u,i,a,"/",s.domain)):o(u,i||"-",a,"/",s.domain)}})}function c(e,n,t){if(p){var r;if(n)window.localStorage.setItem(e,n),t&&(r=(new Date).getTime()/1e3+t,window.localStorage.setItem(e+"__exp",""+r));else if(r=parseInt(window.localStorage.getItem(e+"__exp")),isNaN(r)||(new Date).getTime()<1e3*r)return window.localStorage.getItem(e)}}function u(e){return p?c(e):o(e)}var l=i(i({},s),e),f=l.state;if(0==arguments.length)return{container:a,baseConf:s,msgHandler:n};var d=!!window.postMessage,p=!1,h=!1;try{var m=window.localStorage;if(m){var v=Math.random()+"",g="_liChk";m.setItem(g,v),p=m.getItem(g)==v,m.removeItem(g)}}catch(y){}try{var w=Math.random()+"";o("_liChk",w,10),h=o("_liChk")==w}catch(y){}var _=document.createElement("iframe");if(_.style.display="none",_.style.width=0,_.style.height=0,_.style.border=0,document.body){document.body.appendChild(_);var k=document.createElement("a"),I=function(e){k.href=l.url;var r;r="test"===t.env.NODE_ENV?k.protocol+"//"+k.host:e.origin||e.originalEvent.origin,r===k.protocol+"//"+k.host&&"string"==typeof e.data&&(l.post_msg_handler||n)(e.data)};d&&r(window,"message",I,!1);for(var b=u(f._li_ss.name||"_li_ss")||"",x=o(f._li_cim.name||"_li_cim")||"",j={s:b,cim:x,ps:d,ls:p,duid:l.domain_user_id,domainSessionId:l.domain_session_id,ppid:l.ppid?1:0,euns:l.euns?1:0,ci:l.ci?1:0,version:"sc-2.2.0",nosync:l.syncing===!1},T=["pc","pt"],C=0;C<T.length;C++){var P=T[C];l[P]&&(j[P]=l[P])}var U=l.url+"/"+l.app_id+"?";for(var R in j)U+=R+"="+encodeURIComponent(j[R])+"&";_.src=U}}}).call(this,e("_process"))},{"./lib/extend":16,_process:14,"browser-cookie-lite":17}],16:[function(e,n){n.exports=function t(e,n){e=e||{};for(var r in n)e[r]=n[r].constructor===Object?t(e[r],n[r]):n[r];return e}},{}],17:[function(){this.cookie=function(e,n,t,r,o,i){return arguments.length>1?document.cookie=e+"="+escape(n)+(t?"; expires="+new Date(+new Date+1e3*t).toUTCString():"")+(r?"; path="+r:"")+(o?"; domain="+o:"")+(i?"; secure":""):unescape((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}},{}],18:[function(e,n){n.exports={collectorUrl:"//c.liadm.com",globalTrackerName:"liveIntentPublisherTracker",version:"pub-2.1.0",environment:"production",cookiePath:"/",cookieNamePrefix:"_litra_",cookieNamePrefixOld:"_sp_",domainUserIdCookieLifetime:63072e3,sessionCookieLifetime:1800,domainUserIdCookiePartIndices:{domainUserId:0,creationTs:1,sessionCount:2,currVisitTs:3,lastSessionVisitTs:4,sessionId:5}}},{}],19:[function(e,n){n.exports={appId:{q:"aid"},domainSessionId:{q:"sid"},domainUserId:{q:"duid"},platform:{q:"p",v:"web"},trackerName:{q:"tna"},trackerVersion:{q:"tv"}}},{}],20:[function(e){var n,t=window.LI||{},r=t.appId||"mint-production-appId",o={syncing:t.sync,euns:t.euns,ppid:t.ppid},i=e("./lib/error-notifier"),s=e("./config/publisher-config"),a=e("./lib/snowplow");try{n=new a.Tracker(s.globalTrackerName,s.collectorUrl,{appId:r},o),n.trackPageView()}catch(c){i.error(c)}},{"./config/publisher-config":18,"./lib/error-notifier":21,"./lib/snowplow":22}],21:[function(e,n){var t,r;t=e("airbrake-js"),r=new t({projectId:126987,projectKey:"55ca1bc7fd4a30d3b8411550dfb9148c",onerror:!1}),n.exports={error:function(e){r.notify({error:e,context:{component:"SNOWPLOW_PUBLISHER_TRACKER",version:"pub-2.1.0",environment:"production"}})}}},{"airbrake-js":1}],22:[function(e,n){function t(e,n,t,r){var f,d;if("object"!=typeof t||"string"!=typeof t.appId||"object"!=typeof r)throw new Error("Invalid tracker and/or SC config params");return i.setTrackerRequestProperty("appId",t.appId),i.setTrackerRequestProperty("trackerName",e),i.setTrackerRequestProperty("trackerVersion",a.version),f=!1,d={_init:function(){var e;i.initializeCookies(),e=i.getDomainUserIdCookieValue().split("."),s.extend(l,r,{app_id:t.appId,domain_user_id:e[a.domainUserIdCookiePartIndices.domainUserId]||t.appId+"--"+s.uuid(),domain_session_id:e[a.domainUserIdCookiePartIndices.sessionId]||s.uuid()})},trackPageView:function(e,n,t){var r;try{r=s.extend({eventType:{q:"e",v:"pv"},eventId:{q:"eid",v:s.uuid()},pageUrl:{q:"url",v:e||window.location.href},title:{q:"page",v:n||document.title},referrer:{q:"refr",v:t||document.referrer}},c),d._sendEvent(r)}catch(i){o.error(i)}},_sendEvent:function(e){var t,r=i.createTrackUrl(n+"/i",e),o=document.createElement("img");f||(o.onload=function(){for(t=0;t<u.length;t++)u[t].call(d)},f=!0),o.src=r,o.width=0,o.height=0,o.style.display="none",setTimeout(function s(){document.body?document.body.appendChild(o):setTimeout(s,400)})}},d._init(),d}function r(){var n=e("sync-container")();u.push(n.container.bind(null,l))}var o=e("./error-notifier"),i=e("./tracker-utils"),s=e("./utils"),a=e("../config/publisher-config"),c=e("../config/tracker-request-config"),u=[],l={};r(),n.exports={Tracker:t}},{"../config/publisher-config":18,"../config/tracker-request-config":19,"./error-notifier":21,"./tracker-utils":23,"./utils":24,"sync-container":15}],23:[function(e,n){function t(){return b.appId.v+"--"+x.uuid()}function r(e,n){var t;e+=e.indexOf("?")>-1?"&":"?";for(t in n)if(n.hasOwnProperty(t)){if(!("q"in n[t]&&"v"in n[t]))throw Error('Event config param for "'+t+'" is missing "q" and/or "v": '+JSON.stringify(n[t],null,4));e+=n[t].q+"="+encodeURIComponent(n[t].v)+"&"}return e}function o(e){var n=e.length;return"."===e.charAt(--n)&&(e=e.slice(0,n)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function i(){return m}function s(){return y(o(j)+"/").slice(0,4)}function a(e,n){b[e].v=n}function c(e){return a("domainSessionId",e),g(m,"*",w.sessionCookieLifetime,w.cookiePath)}function u(){return g(k)?k:h}function l(){return g(u())}function f(){return g(i())}function d(e){var n=h,t=e.join(".");return a("domainUserId",e[w.domainUserIdCookiePartIndices.domainUserId]),g(n,t,w.domainUserIdCookieLifetime,w.cookiePath)}function p(){function e(e){var n=Math.round((new Date).getTime()/1e3);return[e,n,1,n,n,x.uuid()]}var n,r=g(h);if(r){var o=_.exec(r),i=o?o[0]:r,s=b.appId.v+"--"+i;n=r.split("."),n[w.domainUserIdCookiePartIndices.domainUserId]=s,f()||(n[w.domainUserIdCookiePartIndices.lastSessionVisitTs]=n[w.domainUserIdCookiePartIndices.currVisitTs],n[w.domainUserIdCookiePartIndices.sessionCount]++,n[w.domainUserIdCookiePartIndices.sessionId]=x.uuid()),n[w.domainUserIdCookiePartIndices.currVisitTs]=Math.round((new Date).getTime()/1e3)}else if(u()===k){var a=l(),p=_.exec(a),m=p?p[0]:p,v=b.appId.v+"--"+m;n=e(v),g(k,"",-1,w.cookiePath),g(I,"",-1,w.cookiePath),g(k,"",-1,w.cookiePath,""),g(I,"",-1,w.cookiePath,"")}else n=e(t());d(n),c(n[w.domainUserIdCookiePartIndices.sessionId])}var h,m,v,g=e("browser-cookie-lite").cookie,y=e("js-crypto/sha1-min"),w=e("../config/publisher-config"),_=new RegExp("[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}","i"),k=w.cookieNamePrefixOld+"id",I=w.cookieNamePrefixOld+"ses",b=e("../config/tracker-request-config"),x=e("./utils"),j=document.domain||"localhost";v=s(),h=w.cookieNamePrefix+"id."+v,m=w.cookieNamePrefix+"ses."+v,n.exports={createTrackUrl:r,getDomainUserIdCookieValue:l,initializeCookies:p,setTrackerRequestProperty:a}},{"../config/publisher-config":18,"../config/tracker-request-config":19,"./utils":24,"browser-cookie-lite":12,"js-crypto/sha1-min":13}],24:[function(e,n){function t(e,n,t,r){return e.addEventListener?(e.addEventListener(n,t,r),!0):e.attachEvent?e.attachEvent("on"+n,t):(e["on"+n]=t,!0)}function r(e){var n,t;for(e=e||{},n=1;n<arguments.length;n++)if(arguments[n])for(t in arguments[n])arguments[n].hasOwnProperty(t)&&(e[t]=arguments[n][t]);return e}function o(e){return e?(e^i.call()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,o)}var i={withWindowCryptoGetRandomValues:function(){try{return crypto.getRandomValues(new Uint8Array(1))[0]%16}catch(e){return 16*Math.random()}},withMathRandom:function(){return 16*Math.random()},call:function(){return window.crypto&&window.crypto.getRandomValues?i.withWindowCryptoGetRandomValues():i.withMathRandom()}};n.exports={addEventListener:t,extend:r,uuid:o}},{}]},{},[20]);
//# sourceMappingURL=a-00jo.min.js.map